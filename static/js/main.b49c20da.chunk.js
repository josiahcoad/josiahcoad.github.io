(this["webpackJsonpgoogle-map-app"]=this["webpackJsonpgoogle-map-app"]||[]).push([[0],{129:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),i=a.n(s),c=a(15),o=a(173),l=a(170),d=a(91),u=a(172),p=a(65),j=a.n(p),b=a(81),m=a(82),h=a.n(m),g=function(){var e=Object(b.a)(j.a.mark((function e(){var t,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://gbjt9fglc8.execute-api.us-west-2.amazonaws.com/api/todos");case 3:return t=e.sent,a=t.data,n=a.map((function(e){return e.data})),console.log(n.length),e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),f=a(158),y=a(159),O=a(160),x=a(34),v=a(156),w=a(10),C=Object(v.a)((function(e){return{title:Object(x.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(x.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(w.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(w.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(x.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),toolbar:{display:"flex",justifyContent:"space-between"}}})),_=a(5),T=function(){var e=C();return Object(_.jsx)(f.a,{position:"static",children:Object(_.jsx)(y.a,{className:e.toolbar,children:Object(_.jsx)(O.a,{variant:"h5",className:e.title,children:"This is your happy time :)"})})})},S=a(168),A=a(169),N=a(177),E=a(174),P=a(176),k=a(161),I=a(162),R=a(163),B=a(175),z=a(164),D=a(178),L=a(167),F=a(87),G=a.n(F),K=a(88),H=a.n(K),U=a(179),V=a(166),W=a(4),M=a(165),Z=a(66),J=a.n(Z),Q=Object(v.a)((function(e){return{chip:{margin:"5px 5px 5px 0"},subtitle:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"10px"},spacing:{display:"flex",alignItems:"center",justifyContent:"space-between"},expand:{transform:"rotate(0deg)",marginRight:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}})),X=["sunday","monday","tuesday","wednesday","thursday","friday","saturday","sunday"][(new Date).getDay()],Y=function(e){return e.filter((function(e){return e.day===X}))[0]},$=function(e){var t=e.times;return Y(t)?"".concat(Y(t).start_time,"-").concat(Y(t).end_time):"Not Happyning Today :("},q=function(e){var t,a=null===(t=e.gmap)||void 0===t?void 0:t.photos[0].photo_reference;return a?"https://maps.googleapis.com/maps/api/place/photo?photo_reference=".concat(a,"&key=AIzaSyCxfXAPgVM8ownCZdr8dFbQSg76chB7P4s&maxheight=350"):"https://www.foodserviceandhospitality.com/wp-content/uploads/2016/09/Restaurant-Placeholder-001.jpg"},ee=function(e){var t,a=e.place,n=e.selected,s=e.refProp,i=e.coords;n&&(null===s||void 0===s||null===(t=s.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"start"}));var o=Q(),l=r.a.useState(!1),d=Object(c.a)(l,2),u=d[0],p=d[1],j=function(){p(!u)};return Object(_.jsxs)(k.a,{elevation:6,children:[Object(_.jsx)(I.a,{style:{height:350},image:q(a),title:a.name}),Object(_.jsxs)(R.a,{children:[Object(_.jsx)(O.a,{gutterBottom:!0,variant:"h5",children:a.name}),Object(_.jsxs)(B.a,{display:"flex",justifyContent:"space-between",my:2,children:[Object(_.jsx)(U.a,{name:"read-only",value:Number(a.gmap.rating),readOnly:!0}),Object(_.jsxs)(O.a,{component:"legend",children:[a.gmap.user_ratings_total," review",a.gmap.user_ratings_total>1&&"s"]})]}),Object(_.jsx)(O.a,{component:"legend",children:$(a)}),Object(_.jsxs)(z.a,{disableSpacing:!0,children:[Object(_.jsx)(O.a,{variant:"subtitle2",color:"textSecondary",children:"See all times"}),Object(_.jsx)(M.a,{className:Object(W.a)(o.expand,Object(x.a)({},o.expandOpen,u)),onClick:j,"aria-expanded":u,"aria-label":"show more",children:Object(_.jsx)(J.a,{})})]}),Object(_.jsx)(V.a,{in:u,timeout:"auto",unmountOnExit:!0,children:a.times.map((function(e){return Object(_.jsx)(B.a,{display:"flex",justifyContent:"space-between",my:1,alignItems:"center",children:Object(_.jsxs)(O.a,{variant:"subtitle2",color:"textSecondary",children:[(t=e.day,t.charAt(0).toUpperCase()+t.slice(1)),": ",e.start_time,"-",e.end_time]})});var t}))}),Object(_.jsx)(B.a,{display:"flex",justifyContent:"space-between",children:void 0!==a.gmap.price_level&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(O.a,{component:"legend",children:"Price"}),Object(_.jsx)(O.a,{gutterBottom:!0,variant:"subtitle1",children:"$".repeat(a.gmap.price_level+1)})]})}),a.deals.slice(0,5).map((function(e){return Object(_.jsx)(B.a,{display:"flex",justifyContent:"space-between",my:1,alignItems:"center",children:Object(_.jsxs)(O.a,{variant:"subtitle2",color:"textSecondary",children:["$",e.price,", ",e.item]})})})),a.deals.length>5&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(z.a,{disableSpacing:!0,children:[Object(_.jsxs)(O.a,{variant:"subtitle2",color:"textSecondary",children:["+ ",a.deals.length-5," more!"]}),Object(_.jsx)(M.a,{className:Object(W.a)(o.expand,Object(x.a)({},o.expandOpen,u)),onClick:j,"aria-expanded":u,"aria-label":"show more",children:Object(_.jsx)(J.a,{})})]}),Object(_.jsx)(V.a,{in:u,timeout:"auto",unmountOnExit:!0,children:a.deals.slice(5).map((function(e){return Object(_.jsx)(B.a,{display:"flex",justifyContent:"space-between",my:1,alignItems:"center",children:Object(_.jsxs)(O.a,{variant:"subtitle2",color:"textSecondary",children:["$",e.price,", ",e.item]})})}))})]}),a.gmap.types.map((function(e){return Object(_.jsx)(D.a,{size:"small",label:e,className:o.chip},e)})),a.gmap.formatted_address&&Object(_.jsxs)(O.a,{gutterBottom:!0,variant:"body2",color:"textSecondary",className:o.subtitle,children:[Object(_.jsx)(G.a,{}),Object(_.jsx)(L.a,{size:"small",color:"seconday",onClick:function(){return window.open(function(e,t){return"https://www.google.com/maps/dir/".concat(t.lat,",").concat(t.lng,"/").concat(e)}(a.gmap.formatted_address,i),"_blank")},children:a.gmap.formatted_address})]}),a.gmap.formatted_phone&&Object(_.jsxs)(O.a,{variant:"body2",color:"textSecondary",className:o.spacing,children:[Object(_.jsx)(H.a,{})," ",a.gmap.formatted_phone]})]}),Object(_.jsx)(z.a,{children:Object(_.jsx)(L.a,{size:"small",color:"seconday",onClick:function(){return window.open(a.gmap.website,"_blank")},children:"Website"})})]})},te=Object(v.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,marginBottom:"30px"},selectEmpty:{marginTop:e.spacing(2)},loading:{height:"600px",display:"flex",justifyContent:"center",alignItems:"center"},container:{padding:"25px"},marginBottom:{marginBottom:"30px"},list:{height:"75vh",overflow:"auto"}}})),ae=function(e){var t=e.places,a=e.type,r=e.setType,s=e.rating,i=e.setRating,o=e.childClicked,d=e.isLoading,u=e.coords,p=Object(n.useState)([]),j=Object(c.a)(p,2),b=j[0],m=j[1],h=te();return Object(n.useEffect)((function(){m((function(e){return Array(t.length).fill().map((function(t,a){return e[a]||Object(n.createRef)()}))}))}),[t]),Object(_.jsx)("div",{className:h.container,children:d?Object(_.jsx)("div",{className:h.loading,children:Object(_.jsx)(S.a,{size:"5rem"})}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(O.a,{variant:"h4",children:["Found ",t.length," happy hours nearby"]}),Object(_.jsxs)(A.a,{className:h.formControl,children:[Object(_.jsx)(N.a,{id:"type",children:"Type"}),Object(_.jsxs)(E.a,{id:"type",value:a,onChange:function(e){return r(e.target.value)},children:[Object(_.jsx)(P.a,{value:"restaurants",children:"Restaurants"}),Object(_.jsx)(P.a,{value:"hotels",children:"Hotels"}),Object(_.jsx)(P.a,{value:"attractions",children:"Attractions"})]})]}),Object(_.jsxs)(A.a,{className:h.formControl,children:[Object(_.jsx)(N.a,{id:"rating",children:"Rating"}),Object(_.jsxs)(E.a,{id:"rating",value:s,onChange:function(e){return i(e.target.value)},children:[Object(_.jsx)(P.a,{value:"",children:"All"}),Object(_.jsx)(P.a,{value:"3",children:"Above 3.0"}),Object(_.jsx)(P.a,{value:"4",children:"Above 4.0"}),Object(_.jsx)(P.a,{value:"4.5",children:"Above 4.5"})]})]}),Object(_.jsx)(l.a,{container:!0,spacing:3,className:h.list,children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(_.jsx)(l.a,{ref:b[t],item:!0,xs:12,children:Object(_.jsx)(ee,{selected:Number(o)===t,refProp:b[t],place:e,coords:u})},t)}))})]})})},ne=a(92),re=a(171),se=a(94),ie=a(90),ce=a.n(ie),oe=[{featureType:"all",elementType:"all",stylers:[{saturation:"32"},{lightness:"-3"},{visibility:"on"},{weight:"1.18"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{saturation:"-70"},{lightness:"14"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{saturation:"100"},{lightness:"-14"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"off"},{lightness:"12"}]}],le=Object(v.a)((function(){return{paper:{padding:"10px",display:"flex",flexDirection:"column",justifyContent:"center",width:"100px"},mapContainer:{height:"85vh",width:"100%"},markerContainer:{position:"absolute",transform:"translate(-50%, -50%)",zIndex:1,"&:hover":{zIndex:2}},pointer:{cursor:"pointer"}}})),de=["sunday","monday","tuesday","wednesday","thursday","friday","saturday","sunday"][(new Date).getDay()],ue=function(e){return e.filter((function(e){return e.day===de}))[0]},pe=function(e){var t=e.times;return ue(t)?"".concat(ue(t).start_time,"-").concat(ue(t).end_time):"Not Today :("},je=function(e){var t=e.coords,a=e.places,n=e.setCoords,r=e.setBounds,s=e.setChildClicked,i=Object(re.a)("(min-width:600px)"),c=le();return Object(_.jsx)("div",{className:c.mapContainer,children:Object(_.jsx)(ne.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyCxfXAPgVM8ownCZdr8dFbQSg76chB7P4s",REACT_APP_RAPID_API_TRAVEL_API_KEY:"i9fZeDjHQ9mshwxyGc2nw99PboG1p14gXUSjsnfrglvSGlT5Jh"}).REACT_APP_GOOGLE_MAP_API_KEY},defaultCenter:t,center:t,defaultZoom:14,margin:[50,50,50,50],options:{disableDefaultUI:!1,zoomControl:!0,styles:oe},onChange:function(e){n({lat:e.center.lat,lng:e.center.lng}),r({ne:e.marginBounds.ne,sw:e.marginBounds.sw})},onChildClick:function(e){return s(e)},children:a.length&&a.map((function(e,t){return Object(_.jsx)("div",{className:c.markerContainer,lat:Number(e.lat),lng:Number(e.lng),children:i?Object(_.jsxs)(se.a,{elevation:3,className:c.paper,children:[Object(_.jsxs)(O.a,{className:c.typography,variant:"subtitle2",gutterBottom:!0,children:[" ",e.name]}),Object(_.jsx)(O.a,{className:c.typography,variant:"subtitle3",gutterBottom:!0,children:pe(e)}),Object(_.jsx)(U.a,{name:"read-only",size:"small",value:Number(e.gmap.rating),readOnly:!0})]}):Object(_.jsx)(ce.a,{color:"primary",fontSize:"large"})},t)}))})})},be=Object(d.a)({palette:{primary:{main:"#EFC319"},secondary:{main:"#bb94e3"}}}),me=function(){var e=Object(n.useState)("restaurants"),t=Object(c.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),i=Object(c.a)(s,2),d=i[0],p=i[1],j=Object(n.useState)({}),b=Object(c.a)(j,2),m=b[0],h=b[1],f=Object(n.useState)(null),y=Object(c.a)(f,2),O=(y[0],y[1]),x=Object(n.useState)([]),v=Object(c.a)(x,2),w=v[0],C=v[1],S=Object(n.useState)([]),A=Object(c.a)(S,2),N=A[0],E=A[1],P=Object(n.useState)(null),k=Object(c.a)(P,2),I=k[0],R=k[1],B=Object(n.useState)(!1),z=Object(c.a)(B,2),D=z[0],L=z[1];return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude;h({lat:a,lng:n})}))}),[]),Object(n.useEffect)((function(){var e=N.filter((function(e){return Number(e.rating)>d}));C(e)}),[d]),Object(n.useEffect)((function(){L(!0),g().then((function(e){E(e.filter((function(e){return e.name&&e.gmap.user_ratings_total>0}))),C([]),p(""),L(!1)}))}),[]),Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(u.a,{theme:be,children:[Object(_.jsx)(o.a,{}),Object(_.jsx)(T,{}),Object(_.jsxs)(l.a,{container:!0,spacing:3,style:{width:"100%"},children:[Object(_.jsx)(l.a,{item:!0,xs:12,md:4,children:Object(_.jsx)(ae,{isLoading:D,childClicked:I,places:w.length?w:N,type:a,setType:r,rating:d,setRating:p,coords:m})}),Object(_.jsx)(l.a,{item:!0,xs:12,md:8,style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(_.jsx)(je,{setChildClicked:R,setBounds:O,setCoords:h,coords:m,places:w.length?w:N})})]})]})})};i.a.render(Object(_.jsx)(me,{}),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.b49c20da.chunk.js.map