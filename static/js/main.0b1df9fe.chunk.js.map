{"version":3,"sources":["utils.js","postprocess.js","api/api.js","components/Header/styles.js","components/Header/Header.js","components/PlaceDetails/styles.js","components/PlaceDetails/PlaceDetails.js","components/List/styles.js","components/List/List.js","mapStyles.js","components/Map/styles.js","components/Map/Map.js","components/Mobile/Dropdown.js","components/Mobile/AppBar.js","components/Mobile/Map.js","components/Mobile/Place.js","components/Mobile/PlaceList.js","components/Mobile/Mobile.js","App.js","index.js"],"names":["datetime","Date","day","getDay","time","date","hours","getHours","minutes","getMinutes","ampm","formatAMPM","dayMap","getTodaysTime","times","todays_time","filter","start_day","end_day","length","formatTimeExpand","replace","singularize","str","endsWith","substr","sortByOptions","timeFilterOptions","dealsFilterOptions","synonyms","getPlaceCompareFcn","sortBy","place1","place2","getSortValue","place","value","deals","user_ratings_total","rating","parseFloat","distance","split","condensedTime","AMPM","hour","parseInt","condensedTimeToSeconds","end_time","dollarDeals","d","discount_marker","Math","min","map","discount_amount","getDealText","deal","item","toLowerCase","dealPassesFilter","dealsFilter","b","dealWords","filterWords","push","x","includes","scoreSearchMatch","searchText","placeName","place_name","placeDealsText","join","handleTimeFilter","timeFilter","getPlacesData","lat","lng","a","axios","get","data","console","log","ReactGA","exception","description","fatal","GIPHY_API_KEY","defaultGifUrl","getGifUrl","keyword","url","fixed_height_downsampled_url","makeStyles","theme","title","display","breakpoints","up","search","position","borderRadius","shape","backgroundColor","alpha","palette","common","white","marginRight","spacing","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","toolbar","Header","classes","useStyles","Toolbar","className","Typography","variant","expand","transform","duration","shortest","expandOpen","root","details","flexDirection","flex","content","image","margin","maxHeight","maxWidth","controls","paddingBottom","mkPhotoUrl","photoRef","photos","formatTodaysTime","start_time","formatDiscount","amount","marker","elipseFormat","maxLength","text","substring","PlaceDetails","selected","refProp","setCoords","current","scrollIntoView","behavior","block","React","useState","expanded","setExpanded","Card","elevation","CardContent","gutterBottom","Box","my","mr","Rating","Number","readOnly","slice","CardActions","disableSpacing","IconButton","clsx","onClick","Collapse","in","timeout","unmountOnExit","ButtonGroup","formatted_address","Button","size","window","open","gmap_url","CardMedia","formControl","minWidth","marginBottom","selectEmpty","marginTop","loading","container","list","overflow","List","places","setTimeFilter","childClicked","isLoading","coords","elRefs","setElRefs","useEffect","refs","Array","fill","_","i","createRef","CircularProgress","style","ToggleButtonGroup","exclusive","onChange","event","newTimeFilter","ToggleButton","sx","m","Grid","ref","xs","main","featureType","elementType","stylers","saturation","lightness","visibility","weight","paper","mapContainer","markerContainer","zIndex","pointer","cursor","Map","setBounds","setChildClicked","cardClicked","bootstrapURLKeys","key","process","defaultCenter","center","defaultZoom","options","disableDefaultUI","zoomControl","styles","mapStyles","e","ne","marginBounds","sw","onChildClick","child","fontSize","dropDown","DropDown","selection","setSelection","textPrompt","Select","displayEmpty","target","MenuItem","disabled","option","AppBar","props","class","placeholder","border","outline","setSearchText","setSortBy","setDealsFilter","alt","src","formatDealCount","ndeals","nfood","type","ndrink","deal_word","sortDeals","passing","failing","sort","d1","d2","f","dealContainsText","concat","Place","repeat","price_level","right","top","Directions","resultsCount","hideAppBar","appbar","document","getElementsByClassName","scrolledUp","getBoundingClientRect","opacity","NothingFoundView","align","LoadingView","gifUrl","PlaceList","setGifUrl","then","onScroll","Mobile","initialize","createTheme","primary","secondary","App","filteredPlaces","setFilteredPlaces","setPlaces","setIsLoading","navigator","geolocation","getCurrentPosition","latitude","longitude","dealsFilterFcn","some","makeDealsFilter","filtered","compareFcn","sorted","reverse","searchCompareFcn","makeSearchCompareFcn","bigScreen","useMediaQuery","md","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0b1df9fe.chunk.js","sourcesContent":["const datetime = new Date();\nconst dayArray = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nexport const day = dayArray[datetime.getDay()];\n\nfunction formatAMPM(date) {\n  var hours = date.getHours();\n  var minutes = date.getMinutes();\n  var ampm = hours >= 12 ? 'P' : 'A';\n  hours = hours % 12;\n  hours = hours ? hours : 12; // the hour '0' should be '12'\n  minutes = minutes < 10 ? '0' + minutes : minutes;\n  var strTime = hours + ':' + minutes + '' + ampm;\n  return strTime;\n}\n\nexport const time = formatAMPM(datetime);\n\nconst dayMap = { 'Monday': 1, 'Tuesday': 2, 'Wednesday': 3, 'Thursday': 4, 'Friday': 5, 'Saturday': 6, 'Sunday': 7 };\n\nexport const getTodaysTime = (times) => {\n  const todays_time = times.filter(time =>\n    dayMap[time.start_day] <= dayMap[day]\n    && dayMap[time.end_day] >= dayMap[day]\n  );\n  return todays_time.length > 0 ? todays_time[0] : {};\n}\n\nexport const formatTimeExpand = (time) => time.replace('P', ' PM').replace('A', ' AM')\n\nexport const formatTimeCondense = (time) => time.replace(' PM', 'P').replace(' AM', 'A')\n\nexport const condensedTimeToSeconds = (condensedTime) => {\n  const time = condensedTime.substr(0, condensedTime.length-1);\n  const AMPM = condensedTime[condensedTime.length-1];\n  const [hour, minutes] = time.split(':');\n  return (parseInt(hour) + (AMPM === 'P' ? 12 : 0)) * 3600 + parseInt(minutes) * 60;\n}\n\nexport const doIntersect = (a, b) => a.filter(x => b.includes(x)).length > 0;\n\nexport const singularize = (str) => str.endsWith('s') ? str.substr(0, str.length - 1) : str;\n","import { doIntersect, singularize, condensedTimeToSeconds, getTodaysTime } from './utils';\n\nexport const sortByOptions = ['Number of Deals', 'Popularity', 'Rating', 'Distance', 'Ending Time', 'Cheapest Item'];\n\nexport const timeFilterOptions = ['Now', '4:00 PM', '4:30 PM', '5:00 PM', '5:30 PM', '6:00 PM', '6:30 PM'];\n\nexport const dealsFilterOptions = ['All Deals', 'Beer', 'Wine', 'Cocktails', 'Margaritas', 'Tacos', 'Meat', 'Seafood', 'Salad', 'Appetizers'];\n\nexport const synonyms = {\n  'beer': ['draft', 'lone', 'domestic', 'ale', 'ipa', 'pilsner', 'porter'],\n  'cocktail': ['martini', 'sangaria', 'margarita', 'mojito', 'daiquiri', 'bloody'],\n  'spirit': ['well', 'vodka', 'wiskey', 'shot'],\n  'wine': ['bottle', 'sake', 'red', 'white', 'rose'],\n  'appetizer': ['dip', 'queso', 'sliders', 'roll', 'chips', 'quesadilla', 'platter', 'bite', 'mini'],\n  'meat': ['grilled', 'fried', 'chicken', 'beef', 'burger', 'brisket', 'buffalo', 'bacon', 'steak', 'bbq'],\n  'seafood': ['salmon', 'maki', 'crab', 'shrimp', 'calamari', 'tuna', 'tempura', 'oyster']\n}\n\nexport const getPlaceCompareFcn = (sortBy) => \n  (place1, place2) => {\n    const getSortValue = (place, sortBy) => {\n      var value;\n      if (sortBy === 'Popularity') {\n        value = 0;\n      }\n      sortBy = sortByOptions[sortBy];\n      if (sortBy === 'Number of Deals') {\n        value = place.deals.length;\n      }\n      if (sortBy === 'Popularity') {\n        value = place.user_ratings_total;\n      }\n      if (sortBy === 'Rating') {\n        value = place.rating;\n      }\n      if (sortBy === 'Distance') {\n        value = -parseFloat(place.distance.split(' ')[0]);\n      }\n      if (sortBy === 'Ending Time') {\n        value = condensedTimeToSeconds(getTodaysTime(place.times).end_time);\n      }\n      if (sortBy === 'Cheapest Item') {\n        const dollarDeals = place.deals.filter(d => d.discount_marker === '$');\n        value = -(dollarDeals.length > 0 ? Math.min(...dollarDeals.map(d => d.discount_amount)) : 100);\n      }\n      return value;\n    }\n    return getSortValue(place1, sortBy) - getSortValue(place2, sortBy);\n  }\n\n\nconst getDealText = (deal) => \n  deal.item\n    .replace('.', ' ').replace(',', ' ').replace('/', ' ').replace('&', ' ')\n    .toLowerCase().split(' ').map(singularize)\n\nexport const dealPassesFilter = (dealsFilter, deal) => {\n  let filter = dealsFilterOptions[dealsFilter].toLowerCase();\n  if (filter === 'all deals') {\n    return true;\n  }\n  const dealWords = getDealText(deal);\n  filter = singularize(filter)\n  const filterWords = filter in synonyms ? synonyms[filter] : [];\n  filterWords.push(filter);\n\n  return doIntersect(dealWords, filterWords);\n}\n\nexport const makeDealsFilter = (dealsFilter) =>\n  (place) => place.deals.some(deal => dealPassesFilter(dealsFilter, deal));\n\nexport const dealContainsText = (text, deal) =>\n  getDealText(deal).includes(text.toLowerCase());\n\nexport const scoreSearchMatch = (searchText, place) => {\n  if (searchText === '') return true;\n  searchText = searchText.toLowerCase();\n  const placeName = place.place_name.toLowerCase();\n  const placeDealsText = place.deals.map(getDealText).join(' ');\n  if (placeName === searchText) return 3\n  if (placeName.includes(searchText)) return 2\n  if (placeDealsText.includes(searchText)) return 1\n  return 0;\n}\n\nexport const makeSearchCompareFcn = (searchText) => \n  (place1, place2) =>\n    scoreSearchMatch(searchText, place1) - scoreSearchMatch(searchText, place2)\n","/* eslint-disable consistent-return */\nimport axios from 'axios';\nimport ReactGA from 'react-ga';\nimport { day, time, formatTimeCondense } from '../utils';\n\n\nconst handleTimeFilter = (timeFilter) =>\n  timeFilter.toLowerCase() === 'now' ? `now?day=${day}&time=${time}` : `now?day=${day}&time=${formatTimeCondense(timeFilter)}`;\n\n\nexport const getPlacesData = async (timeFilter, lat, lng) => {\n  try {\n    const baseUrl = 'https://gbjt9fglc8.execute-api.us-west-2.amazonaws.com/api';\n    const { data } = await axios.get(`${baseUrl}/places/${handleTimeFilter(timeFilter)}&lat=${lng}&lng=${lng}`);\n    return data;\n  } catch (error) {\n    console.log(error);\n    ReactGA.exception({\n      description: 'Error fetching data',\n      fatal: true\n    });\n    return [];\n  }\n};\n\nconst GIPHY_API_KEY = 'ETZSGjtbo4adXd6ndqDKP2NnbmmPrSnc';\n\nconst defaultGifUrl = 'https://media4.giphy.com/media/MeIucAjPKoA120R7sN/200_d.gif?cid=a02e69abh006ugw9bfr38wkz45qsyywvglh4cczq8k1rj4ts&rid=200_d.gif&ct=g';\n\nexport const getGifUrl = async (keyword = 'excited') => {\n  const url = `https://api.giphy.com/v1/gifs/random?api_key=${GIPHY_API_KEY}&tag=${keyword}&limit=1`;\n  try {\n    const { data: { data } } = await axios.get(url);\n    return data.fixed_height_downsampled_url;\n  } catch (error) {\n    return defaultGifUrl;\n  }\n};\n","import { alpha, makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: alpha(theme.palette.common.white, 0.15),\n    '&:hover': { backgroundColor: alpha(theme.palette.common.white, 0.25) },\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: { marginLeft: theme.spacing(3), width: 'auto' },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2), height: '100%', position: 'absolute', pointerEvents: 'none', display: 'flex', alignItems: 'center', justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0), paddingLeft: `calc(1em + ${theme.spacing(4)}px)`, transition: theme.transitions.create('width'), width: '100%', [theme.breakpoints.up('md')]: { width: '20ch' },\n  },\n  toolbar: {\n    display: 'flex', justifyContent: 'space-between',\n  },\n}));\n\n","import React from 'react';\nimport { AppBar, Typography, Toolbar } from '@material-ui/core';\n\nimport useStyles from './styles.js';\n\nconst Header = () => {\n  const classes = useStyles();\n\n  return (\n    <AppBar position=\"static\">\n      <Toolbar className={classes.toolbar}>\n        <Typography variant=\"h5\" className={classes.title}>\n          Don't Worry, Be Happy Now!\n        </Typography>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Header;\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  expand: {\n    transform: 'rotate(0deg)',\n    marginRight: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)',\n  },\n  root: {\n    display: 'flex',\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: '1',\n  },\n  content: {\n    flex: '1 0 auto',\n  },\n  image: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    flex: '1',\n    margin: '10px',\n    borderRadius: '5px',\n    maxHeight: '150px',\n    maxWidth: '150px',\n  },\n  controls: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n}));\n","import React from 'react';\nimport { Box, Typography, Button, Card, CardMedia, CardContent, CardActions, ButtonGroup } from '@material-ui/core';\nimport Rating from '@material-ui/lab/Rating';\nimport Collapse from '@material-ui/core/Collapse';\n// eslint-disable-next-line\nimport clsx from 'clsx';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport useStyles from './styles.js';\nimport { getTodaysTime, formatTimeExpand } from '../../utils';\n\n\nconst placeHolderPhoto = 'https://www.foodserviceandhospitality.com/wp-content/uploads/2016/09/Restaurant-Placeholder-001.jpg';\n\nconst mkPhotoUrl = (place) => {\n  const photoRef = place.photos && place.photos[0];\n  if (!photoRef) {\n    return placeHolderPhoto;\n  }\n  return `https://maps.googleapis.com/maps/api/place/photo?photo_reference=${photoRef}&key=AIzaSyCxfXAPgVM8ownCZdr8dFbQSg76chB7P4s&maxheight=350`;\n};\n\nexport const formatTodaysTime = (time, timeFilter) => \n  timeFilter === 'now' ? 'Until ' + formatTimeExpand(time.end_time) : formatTimeExpand(time.start_time) + ' - ' + formatTimeExpand(time.end_time);\n\nexport const formatDiscount = (amount, marker) => marker === '$' ? marker + amount : amount + marker;\n\nexport const elipseFormat = (maxLength, text) => text.length > maxLength ? text.substring(0, maxLength) + '...' : text;\n\nconst PlaceDetails = ({ place, selected, refProp, timeFilter, setCoords }) => {\n  if (selected) refProp?.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  // onMouseEnter={() => setCoords({lat: place.lat, lng: place.lng})}\n  return (\n    <Card elevation={6} className={classes.root} > \n      <div className={classes.details}>\n        <CardContent className={classes.content}>\n          <Typography gutterBottom variant=\"h5\">{place.place_name}</Typography>\n          <Box display=\"flex\" my={0}>\n            <Box display=\"flex\" mr={1}>\n              <Rating value={Number(place.rating)} readOnly />\n            </Box>\n            <Typography>({place.user_ratings_total})</Typography>\n          </Box>\n          <Box display=\"flex\" justifyContent=\"space-between\" my={1} alignItems=\"center\">\n            <Typography variant=\"subtitle2\" color=\"textSecondary\">{formatTodaysTime(getTodaysTime(place.times), timeFilter)}</Typography>\n          </Box>\n          <hr></hr>\n          {place.deals.slice(0, 5).map((deal) => (\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">{formatDiscount(deal.discount_amount, deal.discount_marker)}: {elipseFormat(35, deal.item)}</Typography>\n            </Box>\n          ))}\n          {place.deals.length > 5\n            && (\n              <>\n                <CardActions disableSpacing>\n                  <Typography variant=\"subtitle2\" color=\"textSecondary\">+ {place.deals.length - 5} more!</Typography>\n                  <IconButton\n                    className={clsx(classes.expand, {\n                      [classes.expandOpen]: expanded,\n                    })}\n                    onClick={handleExpandClick}\n                    aria-expanded={expanded}\n                    aria-label=\"show more\"\n                  >\n                    <ExpandMoreIcon />\n                  </IconButton>\n                </CardActions>\n                <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n                  {place.deals.slice(5).map((deal) => (\n                    <Box display=\"flex\" justifyContent=\"space-between\" my={1} alignItems=\"center\">\n                      <Typography variant=\"subtitle2\" color=\"textSecondary\">{formatDiscount(deal.discount_amount, deal.discount_marker)}: {elipseFormat(35, deal.item)}</Typography>\n                    </Box>\n                  ))}\n                </Collapse>\n              </>\n            )}\n\n        </CardContent>\n        <CardActions>\n          <ButtonGroup variant='outlined'>\n            {place.formatted_address && (\n              <Button size=\"small\" color=\"seconday\" onClick={() => window.open(place.gmap_url, '_blank')}>\n                Google Maps\n              </Button>\n            )}\n          </ButtonGroup>\n        </CardActions>\n      </div>\n      <CardMedia\n        className={classes.image}\n        image={mkPhotoUrl(place)}\n      />\n    </Card>\n  );\n};\n\nexport default PlaceDetails;\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(1), minWidth: 120, marginBottom: '30px',\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  loading: {\n    height: '600px', display: 'flex', justifyContent: 'center', alignItems: 'center',\n  },\n  container: {\n    padding: '25px',\n  },\n  marginBottom: {\n    marginBottom: '30px',\n  },\n  list: {\n    height: '75vh', overflow: 'auto',\n  },\n}));\n","import React, { useState, useEffect, createRef } from 'react';\nimport { CircularProgress, Grid, Typography, Box, CardActions } from '@material-ui/core';\n// import { FormGroup, FormControlLabel, Checkbox, FormControl } from '@material-ui/core';\nimport { ToggleButtonGroup, ToggleButton } from '@material-ui/lab';\n\n\n\n\nimport PlaceDetails from '../PlaceDetails/PlaceDetails';\nimport useStyles from './styles.js';\n\nconst List = ({ places, timeFilter, setTimeFilter, childClicked, isLoading, coords, setCoords }) => {\n  const [elRefs, setElRefs] = useState([]);\n  const classes = useStyles();\n\n  const handleTimeFilter = (event, newTimeFilter) => {\n    setTimeFilter(newTimeFilter);\n  };\n\n  useEffect(() => {\n    setElRefs((refs) => Array(places.length).fill().map((_, i) => refs[i] || createRef()));\n  }, [places]);\n\n  return (\n    <div className={classes.container}>\n      {isLoading ? (\n        <>\n          <Typography variant=\"h4\">Loading Happiness üòÄ</Typography>\n          <div className={classes.loading}>\n            <CircularProgress size=\"5rem\" />\n          </div>\n        </>\n      ) : (\n        <>\n          <Typography variant=\"h4\">Found {places.length} happening {timeFilter === 'now' ? 'now' : 'today'} {places.length === 0 && ':('}</Typography>\n          <CardActions style={{ justifyContent: 'center' }}>\n\n            <ToggleButtonGroup\n              value={timeFilter}\n              exclusive\n              onChange={handleTimeFilter}\n            >\n              <ToggleButton value=\"now\">\n                Now\n              </ToggleButton>\n              <ToggleButton value=\"today\">\n                Today\n              </ToggleButton>\n            </ToggleButtonGroup>\n            <Box sx={{ m: 0.5 }} />\n          </CardActions>\n          <br></br>\n          <Grid container spacing={2} className={classes.list}>\n            {places?.map((place, i) => (\n              <Grid ref={elRefs[i]} key={i} item xs={12}>\n                <PlaceDetails\n                  selected={Number(childClicked) === i}\n                  refProp={elRefs[i]}\n                  place={place}\n                  coords={coords}\n                  setCoords={setCoords}\n                  timeFilter={timeFilter}\n                />\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      )\n      }\n    </div >\n  );\n};\n\nexport default List;\n","const main = [\n  {\n    featureType: 'all',\n    elementType: 'all',\n    stylers: [\n      {\n        saturation: '32',\n      },\n      {\n        lightness: '-3',\n      },\n      {\n        visibility: 'on',\n      },\n      {\n        weight: '1.18',\n      },\n    ],\n  },\n  {\n    featureType: 'administrative',\n    elementType: 'labels',\n    stylers: [\n      {\n        visibility: 'on',\n      },\n    ],\n  },\n  {\n    featureType: 'landscape',\n    elementType: 'labels',\n    stylers: [\n      {\n        visibility: 'off',\n      },\n    ],\n  },\n  {\n    featureType: 'landscape.man_made',\n    elementType: 'all',\n    stylers: [\n      {\n        saturation: '-70',\n      },\n      {\n        lightness: '14',\n      },\n    ],\n  },\n  {\n    featureType: 'poi',\n    elementType: 'labels',\n    stylers: [\n      {\n        visibility: 'off',\n      },\n    ],\n  },\n  {\n    featureType: 'road',\n    elementType: 'labels',\n    stylers: [\n      {\n        visibility: 'off',\n      },\n    ],\n  },\n  {\n    featureType: 'transit',\n    elementType: 'labels',\n    stylers: [\n      {\n        visibility: 'off',\n      },\n    ],\n  },\n  {\n    featureType: 'water',\n    elementType: 'all',\n    stylers: [\n      {\n        saturation: '100',\n      },\n      {\n        lightness: '-14',\n      },\n    ],\n  },\n  {\n    featureType: 'water',\n    elementType: 'labels',\n    stylers: [\n      {\n        visibility: 'off',\n      },\n      {\n        lightness: '12',\n      },\n    ],\n  },\n];\n\nexport default main;\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles(() => ({\n  paper: {\n    padding: '10px', display: 'flex', flexDirection: 'column', justifyContent: 'center', width: '100px',\n  },\n  mapContainer: {\n    height: '85vh', width: '100%',\n  },\n  markerContainer: {\n    position: 'absolute', zIndex: 1, '&:hover': { zIndex: 2 }, width: '150px'\n  },\n  pointer: {\n    cursor: 'pointer',\n  },\n  placeName: {\n    transform: 'translate(20%, -120%)'\n  }\n}));\n","import React from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport { Typography } from '@material-ui/core';\nimport LocationOn from '@material-ui/icons/LocationOn';\n\nimport mapStyles from '../../mapStyles';\nimport useStyles from './styles.js';\n\n\nconst Map = ({ coords, places, setCoords, setBounds, setChildClicked, cardClicked }) => {\n  // const bigScreen = useMediaQuery('(min-width:600px)');\n  const classes = useStyles();\n\n  return (\n    <div className={classes.mapContainer}>\n      <GoogleMapReact\n        bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_MAP_API_KEY }}\n        defaultCenter={coords}\n        center={coords}\n        defaultZoom={14}\n        margin={[50, 50, 50, 50]}\n        options={{ disableDefaultUI: false, zoomControl: true, styles: mapStyles }}\n        onChange={(e) => {\n          setCoords({ lat: e.center.lat, lng: e.center.lng }); // notice that this changes where you would get directions from\n          setBounds({ ne: e.marginBounds.ne, sw: e.marginBounds.sw });\n        }}\n        onChildClick={(child) => setChildClicked(child)}\n      >\n        {places.map((place, i) => (\n          <div\n            className={classes.markerContainer}\n            lat={Number(place.lat)}\n            lng={Number(place.lng)}\n            key={i}\n          >\n              <LocationOn color=\"secondary\" fontSize=\"large\" className={classes.pointer}/>\n              <Typography className={classes.placeName} variant=\"subtitle2\" gutterBottom>{place.place_name}</Typography>\n          </div>\n        ))}\n      </GoogleMapReact>\n    </div>\n  );\n};\n\nexport default Map;\n","import { Select, MenuItem } from '@material-ui/core'; \nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  dropDown: {\n    'fontSize': 12, backgroundColor: 'white', borderRadius: '10px 10px 0  0', width: '90px', paddingLeft: '10px'\n  }\n}));\n\nconst DropDown = ({ options, selection, setSelection, textPrompt }) => {\n  const classes = useStyles();\n\n  return (\n    <Select\n      displayEmpty\n      value={selection}\n      onChange={(e) => setSelection(e.target.value)}\n      className={classes.dropDown}\n    >\n      {textPrompt && \n        <MenuItem value=\"\" disabled style={{fontSize: 10}}>{textPrompt}</MenuItem>\n      }\n      {options.map((option, i) => (\n        <MenuItem value={i} key={i} style={{fontSize: 10}}>{option}</MenuItem>\n      ))}\n    </Select>\n  );\n}\n\nexport default DropDown;\n","import DropDown from './Dropdown';\nimport { sortByOptions, timeFilterOptions, dealsFilterOptions } from '../../postprocess';\n\nconst AppBar = (props) => {\n\n  return (\n    <div class=\"appbar\">\n      <div class=\"searchbar\">\n        <input\n          class=\"text\"\n          placeholder=\"Search Place or Deal...\"\n          style={{ border: 'none', width: '80%', height: '90%', outline: 'none' }}\n          value={props.searchText}\n          onChange={(e) => props.setSearchText(e.target.value)}\n        />\n      </div>\n      <div class=\"filterbar\">\n        <DropDown\n          options={sortByOptions}\n          selection={props.sortBy}\n          setSelection={props.setSortBy}\n          textPrompt={'Sort By'}\n        />\n        <DropDown\n          options={timeFilterOptions}\n          selection={props.timeFilter}\n          setSelection={props.setTimeFilter}\n        />\n        <DropDown\n          options={dealsFilterOptions}\n          selection={props.dealsFilter}\n          setSelection={props.setDealsFilter}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default AppBar;\n","const Map = () => (\n  <div class=\"map\">\n    <img alt=\"map\" src=\"https://media.wired.com/photos/59269cd37034dc5f91bec0f1/master/pass/GoogleMapTA.jpg\" />\n  </div>\n)\n\nexport default Map;\n","import { getTodaysTime } from '../../utils';\nimport { dealPassesFilter, dealContainsText, sortByOptions } from '../../postprocess';\nimport { formatTodaysTime, formatDiscount, elipseFormat } from '../PlaceDetails/PlaceDetails';\nimport { Directions } from '@material-ui/icons';\nimport { IconButton } from '@material-ui/core';\n\nconst formatDealCount = (deals) => {\n  const ndeals = deals.length;\n  const nfood = deals.filter(deal => deal.type === 'food').length;\n  const ndrink = deals.filter(deal => deal.type === 'drink').length;\n  const deal_word = `deal${ndeals > 1 ? 's' : ''}`\n  if (nfood > 0 && ndrink > 0) {\n    return `${ndeals} ${deal_word} (${nfood} food, ${ndrink} drink)`\n  }\n  if (nfood > 0) {\n    return `${nfood} food ${deal_word}`\n  }\n  return `${ndrink} drink ${deal_word}`\n}\n\n\nconst mkPhotoUrl = (photoRef) => {\n  return `https://maps.googleapis.com/maps/api/place/photo?photo_reference=${photoRef}&key=AIzaSyCxfXAPgVM8ownCZdr8dFbQSg76chB7P4s&maxheight=100`;\n};\n\nconst sortDeals = (dealsFilter, searchText, sortBy, deals) => {\n  let passing, failing;\n  if (sortByOptions[sortBy] === 'Cheapest Item') {\n    passing = deals.filter(d => d.discount_marker === '$');\n    failing = deals.filter(d => d.discount_marker !== '$');\n    passing.sort((d1, d2) => d1.discount_amount - d2.discount_amount);\n  }\n  else {\n    const f = deal => searchText ? dealContainsText(searchText, deal) : dealPassesFilter(dealsFilter, deal);\n    passing = deals.filter(f);\n    failing = deals.filter(deal => !f(deal));\n  }\n  return passing.concat(failing);\n}\n\nconst Place = ({ place, timeFilter, dealsFilter, searchText, sortBy }) => {\n  return (\n    <div class=\"place\">\n      <div class=\"image-horizontal-scroll\">\n        {place.photos?.map(mkPhotoUrl).map((url, i) => (\n          <img alt=\"\" src={url} key={i} />\n        ))}\n      </div>\n      <div class=\"place-details\" style={{ position: 'relative' }}>\n        <div class=\"place-name\">{place.place_name}</div>\n        <div>‚≠ê {place.rating} ({place.user_ratings_total})</div>\n        <div>\n          {formatDealCount(place.deals)} ¬∑ {'$'.repeat(place.price_level + 1)} ¬∑ {place.distance}\n        </div>\n        <div>{formatTodaysTime(getTodaysTime(place.times), timeFilter)}</div>\n        <IconButton\n          aria-label=\"upload picture\" \n          onClick={() => window.open(place.gmap_url, '_blank')}\n          style={{ backgroundColor: '#1A73E8', position: 'absolute', right: 20, top: 5 }}\n          size='small'\n        >\n          <Directions style={{color: 'white'}}/>\n        </IconButton>\n      </div>\n      <div class=\"deals-preview-container\">\n        <div class=\"deals-preview\">\n          {sortDeals(dealsFilter, searchText, sortBy, place.deals).map((deal) => (\n            formatDiscount(deal.discount_amount, deal.discount_marker) + ' ' + elipseFormat(35, deal.item)\n          )).join(' ¬∑ ')}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Place;\n","import React, { useState, useEffect } from 'react';\nimport Place from './Place';\nimport { CircularProgress, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { getGifUrl } from '../../api/api';\n\nconst useStyles = makeStyles((theme) => ({\n  loading: {\n    height: '200px', display: 'flex', justifyContent: 'center', alignItems: 'center',\n  },\n  resultsCount: {\n    position: 'absolute', right: 20, top: 10, color: 'gray', fontSize: 12,\n  }\n}));\n\n\nconst hideAppBar = () => {\n  const appbar = document.getElementsByClassName('appbar')[0];\n  const placesList = document.getElementsByClassName('place-holder-seperator')[0];\n  const scrolledUp = placesList.getBoundingClientRect().top < 200;\n  appbar.style.opacity = scrolledUp ? 0 : 1;\n};\n\nconst NothingFoundView = () => (\n  <>\n    <Typography variant=\"h5\" align='center' style={{ marginTop: '40px', display: 'block' }}>\n      Nothing Found üòî\n    </Typography>\n    <Typography variant=\"body1\" align='center' style={{ marginTop: '20px', display: 'block', color: 'gray' }}>\n      Try searching a different time or removing a filter.\n    </Typography>\n  </>\n);\n\nconst LoadingView = ({ className, gifUrl }) => (\n  <div>\n    <Typography variant=\"h5\" flex='12' align='center' style={{ marginTop: '40px' }}>\n      Loading Happiness üòÄ\n    </Typography>\n    <div className={className}>\n      {gifUrl ?\n        (<img src={gifUrl} alt={'happy gif'} style={{ marginTop: '20px' }} />) :\n        (<CircularProgress size=\"3rem\" />)\n      }\n    </div>\n  </div>\n);\n\nconst PlaceList = ({ places, isLoading, ...props }) => {\n  const classes = useStyles();\n  const [gifUrl, setGifUrl] = useState(null);\n  useEffect(() => {\n    if (!isLoading) {\n      // fetch new gif before we need to show it\n      getGifUrl().then(setGifUrl);\n    }\n  }, [isLoading]);\n\n\n  return (\n    <div class=\"places-list\" onScroll={hideAppBar}>\n      <div class=\"place-holder\"></div>\n      <div class=\"place-holder-seperator\">\n        {places.length > 0 && !isLoading &&\n          <span className={classes.resultsCount}>{places.length} Results</span>\n        }\n        <div class=\"tiny-gray-box\"></div>\n      </div>\n      <div class=\"places-list-container\">\n        {isLoading ? (\n          <LoadingView className={classes.loading} gifUrl={gifUrl} />\n        ) : (\n          places.length > 0 ? places.map((place, i) => (\n            <Place\n              place={place}\n              timeFilter={props.timeFilter}\n              dealsFilter={props.dealsFilter}\n              searchText={props.searchText}\n              sortBy={props.sortBy}\n              key={i}\n            />\n          )) : <NothingFoundView />\n        )}\n      </div>\n    </div>\n  );\n}\nexport default PlaceList;\n","import AppBar from './AppBar';\nimport Map from './Map';\nimport PlaceList from './PlaceList';\n\n\nconst Mobile = (props) => {\n  return (\n    <>\n      <AppBar {...props} />\n      <Map />\n      <PlaceList {...props} />\n    </>\n  );\n}\n\nexport default Mobile;\n","import React, { useState, useEffect } from 'react';\nimport { Grid } from '@material-ui/core';\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { makeDealsFilter, timeFilterOptions, getPlaceCompareFcn, makeSearchCompareFcn, scoreSearchMatch } from './postprocess';\n\nimport { getPlacesData } from './api/api';\nimport Header from './components/Header/Header';\nimport List from './components/List/List';\nimport Map from './components/Map/Map';\n\nimport ReactGA from 'react-ga';\nimport Mobile from './components/Mobile/Mobile';\n\nconst TRACKING_ID = \"G-0JVNW6YKDD\";\nReactGA.initialize(TRACKING_ID);\n\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#EFC319',\n    },\n    secondary: {\n      main: '#bb94e3',\n    },\n  },\n});\n\n\nconst App = () => {\n  const [coords, setCoords] = useState({});\n  // eslint-disable-next-line\n  const [bounds, setBounds] = useState(null);\n\n  const [filteredPlaces, setFilteredPlaces] = useState([]);\n  const [places, setPlaces] = useState([]);\n\n  const [childClicked, setChildClicked] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [sortBy, setSortBy] = React.useState(0);\n  const [timeFilter, setTimeFilter] = React.useState(0);\n  const [dealsFilter, setDealsFilter] = React.useState(0);\n  const [searchText, setSearchText] = useState('');\n\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(({ coords: { latitude, longitude } }) => {\n      setCoords({ lat: latitude, lng: longitude });\n    });\n  }, []);\n\n  useEffect(() => {\n    const dealsFilterFcn = makeDealsFilter(dealsFilter);\n    const filtered = places.filter(dealsFilterFcn);\n    const compareFcn = getPlaceCompareFcn(sortBy);\n    let sorted = filtered.sort(compareFcn).reverse();\n    if (searchText) {\n      const searchCompareFcn = makeSearchCompareFcn(searchText);\n      sorted = sorted.filter(place => scoreSearchMatch(searchText, place) > 0);\n      sorted = sorted.sort(searchCompareFcn).reverse();\n    }\n    setFilteredPlaces(sorted);\n  }, [dealsFilter, searchText, sortBy, places]);\n\n  useEffect(() => {\n    setIsLoading(true);\n    if (!coords) return;\n    getPlacesData(timeFilterOptions[timeFilter], coords.lat, coords.lng)\n      .then(places => {\n        places = places.filter((place) => place.deals.length > 0);\n        setPlaces(places);\n        setIsLoading(false);\n      });\n  }, [timeFilter, coords]);\n\n  const bigScreen = useMediaQuery('(min-width:600px)');\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      {bigScreen ? (\n        <>\n          <Header />\n          <Grid container spacing={3} style={{ width: '100%' }}>\n            <Grid item xs={12} md={4}>\n              <List\n                isLoading={isLoading}\n                childClicked={childClicked}\n                setCoords={setCoords}\n                places={filteredPlaces}\n                timeFilter={timeFilter}\n                setTimeFilter={setTimeFilter}\n                coords={coords}\n              />\n            </Grid>\n            <Grid item xs={12} md={8} style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n              <Map\n                setChildClicked={setChildClicked}\n                setBounds={setBounds}\n                setCoords={setCoords}\n                coords={coords}\n                places={filteredPlaces}\n              />\n            </Grid>\n          </Grid>\n        </>\n      ) : (\n      <Mobile\n        places={filteredPlaces}\n        isLoading={isLoading}\n        sortBy={sortBy}\n        setSortBy={setSortBy}\n        timeFilter={timeFilter}\n        setTimeFilter={setTimeFilter}\n        dealsFilter={dealsFilter}\n        setDealsFilter={setDealsFilter}\n        searchText={searchText}\n        setSearchText={setSearchText}\n      />)}\n    </MuiThemeProvider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}